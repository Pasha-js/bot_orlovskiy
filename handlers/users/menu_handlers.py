import logging
from typing import Union
from aiogram import types
from aiogram.dispatcher.filters import Command, CommandStart
from aiogram.dispatcher.storage import FSMContext
from aiogram.types import CallbackQuery, Message
from loader import dp, bot, db
from keyboards.inline.menu_keyboards import start_keyboard, next_btn, choice_keyboard, sign_btn, detail_keyboard,\
    additional_keyboard, descr_keyboard, adress_keyboard, get_keyboard, reason_keyboard, pay_keyboard
from keyboards.inline.callback_datas import menu_callback, support_callback
import sqlite3
import emoji
from data.config import admin_id
from asyncpg.exceptions import UniqueViolationError
from aiogram.utils.markdown import hbold, hcode, hitalic, hunderline, hstrikethrough, hlink


@dp.callback_query_handler(menu_callback.filter(item_name='cancel'))
async def cancel(call: CallbackQuery):
    await call.answer("–í—ñ–¥–º—ñ–Ω–∞", show_alert=True)
    await call.message.edit_reply_markup()
    await call.message.delete()



@dp.message_handler(CommandStart())
async def show_menu(message: types.Message):
    markup = await start_keyboard()
    await message.answer(text=f"–î–æ–±—Ä–æ–≥–æ –¥–Ω—è <b>{message.from_user.full_name}</b>!\n"
                         f"–ú–µ–Ω–µ –∑–≤–∞—Ç–∏ –Ü—Ä–∏–Ω–∞ —ñ —è –≤–∞—à –æ–Ω–ª–∞–π–Ω –∞—Å–∏—Å—Ç–µ–Ω—Ç. {emoji.emojize(':fire:')}\n"
                              f"–°–ø–µ—Ä—à—É –ø–µ—Ä–µ–π–¥—ñ—Ç—å –ø–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—é —Ç–∞ –±–ª–∏–∂—á–µ –ø–æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—å –∑ –Ü—Ä–∏–Ω–æ—é –û—Ä–ª–æ–≤—Å—å–∫–æ—é",

                         reply_markup=markup)




@dp.callback_query_handler(menu_callback.filter(item_name="next"))
async def show_items(call: CallbackQuery):
    markup = await next_btn()
    await call.message.answer(text="–î—è–∫—É—î–º–æ, —â–æ –ø–µ—Ä–µ–≥–ª—è–Ω—É–ª–∏ –≤—ñ–¥–µ–æ, —Ç–µ–ø–µ—Ä —Ç–æ—á–Ω–æ —É –≤–∞—à–æ–º—É –∞—Ä—Å–µ–Ω–∞–ª—ñ +1 –∑–∞—á—ñ—Å–∫–∞.\n"
                                   "–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –±–∞–≥–∞—Ç–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó—ó –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, –∞ —É—è–≤—ñ—Ç—å —Å–∫—ñ–ª—å–∫–∏ –±—É–¥–µ –∫–æ–ª–∏ –∑–∞–≤—ñ—Ç–∞—î—Ç–µ –Ω–∞ –Ω–∞—à—ñ –∫—É—Ä—Å–∏",
                                                       reply_markup=markup)




@dp.callback_query_handler(menu_callback.filter(item_name="next_btn"))
async def choice_items(call: CallbackQuery):
    markup = await choice_keyboard()
    await call.message.answer(text='–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏' + emoji.emojize(":next_track_button:"),
                              reply_markup=markup
                              )




@dp.callback_query_handler(menu_callback.filter(item_name="sign_btn"))
async def sign(message: Union[CallbackQuery, Message]):
    markup = await sign_btn()
    name = message.from_user.full_name
    try:
        db.add_user(id=message.from_user.id,
                    name=name)
    except sqlite3.IntegrityError as err:
        print(err)
    count = db.count_users()[0]
    call = message
    await call.message.answer(text=f"–í—ñ—Ç–∞—î–º–æ {message.from_user.full_name}!\n"
                         f"–í–∏ –∑–∞–ø–∏—Å–∞–ª–∏—Å—è –Ω–∞ –∫—É—Ä—Å.\n"
                                   f'–ó–∞–ø–∏—Å–∞–ª–æ—Å—å <b>{count}</b> –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤',
                              reply_markup=markup
                         )


@dp.callback_query_handler(menu_callback.filter(item_name="detail"))
async def detail_course(call: CallbackQuery):
    markup = await detail_keyboard()
    await call.message.answer(text='HAIR STYLIST/ –ü–µ—Ä—É–∫–∞—Ä - –º–æ–¥–µ–ª—å—î—Ä\n'
                                   '\n'
                                   '–û–≥–æ–ª–æ—à–µ–Ω–æ –Ω–∞–±—ñ—Ä –Ω–∞  –∞–≤—Ç–æ—Ä—Å—å–∫–∏–π –∫—É—Ä—Å –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É ORLOVSKYH\n'
                                   '\n'
                                   'HAIR STYLIST / –ü–µ—Ä—É–∫–∞—Ä - –º–æ–¥–µ–ª—å—î—Ä\n '
                                   '\n'
                                   '–ù–∞–≤—á–∞–ª—å–Ω–∏–π —Ü–µ–Ω—Ç—Ä ORLOVSKYH –∑–∞–ø—Ä–æ—à—É—î –≤–∞—Å –Ω–∞ –∫—É—Ä—Å–∏, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤ ¬´–∑ –Ω—É–ª—è¬ª.\n '
                                   '–ó–∞ –ø—ñ–¥—Å—É–º–∫–æ–º –≤–∏ —É—Å–ø—ñ—à–Ω–æ –∑–º–æ–∂–µ—Ç–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ —Å–∞–ª–æ–Ω–∞—Ö –∫—Ä–∞—Å–∏, –ø–µ—Ä—É–∫–∞—Ä–Ω—è—Ö –∞–±–æ –≤–µ—Å—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—É –ø—Ä–∞–∫—Ç–∏–∫—É. '
                                   '–ú–∏ –≥–æ—Ç—É—î–º–æ –ø—Ä–∞–∫—Ç–∏–∫—ñ–≤, –∞ –Ω–µ —Ç–µ–æ—Ä–µ—Ç–∏–∫—ñ–≤!\n'
                                   '\n'
                                   '–û–¥–Ω—ñ—î—é –∑ –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ –Ω–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ —î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –∑–∞–Ω—è—Ç—å.\n'
                                   '–ë–∞–≥–∞—Ç–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–µ –±—É–≤–∞—î, —Ç–æ–º—É –ø–µ—Ä—à –Ω—ñ–∂ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏—Å—å –≤ —Å–∞–º–æ—Å—Ç—ñ–π–Ω—É –ø–æ–¥–æ—Ä–æ–∂,'
                                   '–≤–∏ –∑–º–æ–∂–µ—Ç–µ –æ—Å–≤–æ—ó—Ç–∏ —ñ –≤–¥–æ—Å–∫–æ–Ω–∞–ª–∏—Ç–∏ –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å –ø—ñ–¥ –∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ–º –¥–æ—Å–≤—ñ–¥—á–µ–Ω–∏—Ö –≤–∏–∫–ª–∞–¥–∞—á—ñ–≤.\n'
                                   '–í –∫—ñ–Ω—Ü—ñ –Ω–∞–≤—á–∞–Ω–Ω—è –≤–∞—Å —á–µ–∫–∞—î –∫–≤–∞–ª—ñ—Ñ—ñ–∫–∞—Ü—ñ–π–Ω–∏–π —ñ—Å–ø–∏—Ç —ñ –≤—Ä—É—á–µ–Ω–Ω—è –¥–∏–ø–ª–æ–º—É –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä—É ¬´ORLOVSKYH¬ª \n'
                                   '\n'
                                   '‚ö†Ô∏è–Ω–µ –≤—Ç—Ä–∞—á–∞–π —Å–≤—ñ–π —à–∞–Ω—Å –Ω–∞–≤—á–∞–π—Å—è —Ä–∞–∑–æ–º –∑ –Ω–∞–º–∏ ‚ö† \n'
                                   '\n'
                                   '- –æ–ø–∏—Å –∫—É—Ä—Å—É üëá\n',

                              reply_markup=markup)


@dp.callback_query_handler(menu_callback.filter(item_name="additional"))
async def additional_info(call: CallbackQuery):
    markup = await additional_keyboard()
    await call.message.answer(text='–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è\n',
                                 reply_markup=markup)


@dp.callback_query_handler(menu_callback.filter(item_name="descr"))
async def descr_info(call: CallbackQuery):
    markup = await descr_keyboard()
    await call.message.answer(text='–ö—É—Ä—Å –ø–µ—Ä—É–∫–∞—Ä - –º–æ–¥–µ–ª—å—î—Ä "HAIR STYLIST" –≤—ñ–¥ —à–∫–æ–ª–∏ –∫—Ä–∞—Å–∏ –û–†–õ–û–í–°–¨–ö–ò–• —Ç—Ä–∏–≤–∞—î 3,5 –º—ñ—Å—è—Ü—ñ, '
                                   '–Ω–∞–≤—á–∞–Ω–Ω—è –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è 5-—Ç—å –¥–Ω—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å. –î–æ –ø‚Äô—è—Ç–∏ –ª—é–¥–µ–π —É –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ–π –≥—Ä—É–ø—ñ. \n'
                                   '\n'
                                   '    ‚è∞ –£—Ä–æ–∫–∏ —É –Ω–∞—Å —Ç—Ä–∏–≤–∞—é—Ç—å –≤ 2 –∑–º—ñ–Ω–∏'
                                   '- (1-—à–∞ –∑–º—ñ–Ω–∞) –∑ 10:00 –¥–æ 13:30'
                                   '- (2-–≥–∞ –∑–º—ñ–Ω–∞) –∑ 14:30 –¥–æ 17:30'
                                   '\n'
                                   '‚úèÔ∏è –ù–∞–≤—á–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∫–ª—é—á–∞—î –≤ —Å–µ–±–µ, —è–∫ —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω—ñ —Ç–∞–∫ —ñ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ —É—Ä–æ–∫–∏.'
                                   ' –ù–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω—ñ —É—Ä–æ–∫–∏ –∫–æ–∂–Ω–æ–º—É —É—á–Ω–µ–≤—ñ –±—É–¥–µ –≤–∏–¥–∞–Ω–∏–π —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –º–∞–Ω–µ–∫–µ–Ω –¥–ª—è –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –Ω–∞–≤–∏–∫—ñ–≤üëåüèΩ'
                                   '‚ùóÔ∏è‚ùóÔ∏è‚ùóÔ∏è–ß–∞—Å—Ç–∫–æ–≤–æ –Ω–∞–¥–∞—î–º–æ –º–æ–¥–µ–ª–µ–π, –¥–æ–ø–æ–º–∞–≥–∞—î–º–æ –∑ –ø–æ—à—É–∫–æ–º.'
                                   '\n'
                                   'üìé –£ –Ω–∞–≤—á–∞–ª—å–Ω—É –ø—Ä–æ–≥—Ä–∞–º—É –≤—Ö–æ–¥—è—Ç—å —Ç–∞–∫—ñ –ø—Ä–µ–¥–º–µ—Ç–∏:\n'
                                   '_______________________________________________\n'
                                   'üîª(–¢–µ–æ—Ä—ñ—è)üîª üîª(–ü—Ä–∞–∫—Ç–∏–∫–∞)üîª'
                                   '\n'
                                   '‚ñ™Ô∏è –ï—Ç–∏–∫–∞ —ñ –∫—É–ª—å—Ç—É—Ä–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è:\n'
                                   '    -  –æ—Å–Ω–æ–≤–∏ –µ—Ç–∏–∫–∏ –≤ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—ñ –∑ –∫–æ–ª–µ–∫—Ç–∏–≤–æ–º —Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞–º–∏;\n'
                                   '    -  –µ—Å—Ç–µ—Ç–∏–∫–∞ –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ –≤–∏–≥–ª—è–¥—É;\n'
                                   '    -  –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è.\n'
                                   '‚ñ™Ô∏è –°–∞–Ω—ñ—Ç–∞—Ä—ñ—è —Ç–∞ –≥—ñ–≥—ñ—î–Ω–∞:\n'
                                   '    -  –ø—Ä–∞–≤–∏–ª–∞  —Å—Ç–µ—Ä–∏–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –¥–µ–∑—ñ–Ω—Ñ–µ–∫—Ü—ñ—ó;\n'
                                   '    -  —Å–∞–Ω—ñ—Ç–∞—Ä–Ω—ñ –Ω–æ—Ä–º–∏;\n'
                                   '    -  —Ç–µ—Ö–Ω—ñ–∫–∞ –±–µ–∑–ø–µ–∫–∏.\n'
                                   '‚ñ™Ô∏è –°–∞–ª–æ–Ω, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, –∞–ø–∞—Ä–∞—Ç—É—Ä–∞ —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª–æ–∑–Ω–∞–≤—Å—Ç–≤–æ:\n'
                                   '    -  –∫–ª–∞—Å–∏ —Å–∞–ª–æ–Ω—ñ–≤ –∫—Ä–∞—Å–∏;\n'
                                   '    -  –≤—Å—ñ –≤–∏–¥–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏—Å—Ç–æ—Å—É–≤–∞–Ω—å –≤ —Ä–æ–±–æ—Ç—ñ –º–∞–π—Å—Ç—Ä–∞;\n'
                                   '    -  –º–∞—Ç–µ—Ä—ñ–∞–ª–æ–∑–Ω–∞–≤—Å—Ç–≤–æ.\n'
                                   '‚ñ™Ô∏è –û—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–∏ –∑ –≤–æ–ª–æ—Å—Å—è–º:\n'
                                   '    -  –≤–∏–¥–∏ —Ç–∏–ø–∏ —Ç–∞ –±—É–¥–æ–≤–∞ –≤–æ–ª–æ—Å—Å—è;\n'
                                   '    -  –º–∏—Ç—Ç—è, —Å—É—à–∫–∞, —Ä–æ–∑—á—ñ—Å—É–≤–∞–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è;\n'
                                   '    -  –ø–æ–¥—ñ–ª –Ω–∞ –∑–æ–Ω–∏;\n'
                                   '    -  –æ—Å–Ω–æ–≤–∏ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –∑–∞—á—ñ—Å–æ–∫.\n'
                                   '‚ñ™Ô∏è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ø–µ—Ä—É–∫–∞—Ä—Å—å–∫–∏—Ö —Ä–æ–±—ñ—Ç:\n'
                                   '‚ñ™Ô∏è —É–∫–ª–∞–¥–∞–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è —Ä—ñ–∑–Ω–∏–º–∏ —Ç–µ—Ö–Ω—ñ–∫–∞–º–∏\n'
                                   '    -  —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±‚Äò—î–º—É;\n'
                                   '    -  –≤–∏–ø—Ä—è–º–ª–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è –Ω–∞ —Ñ–µ–Ω;\n'
                                   '    -  —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–∫–æ–Ω—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ–µ–Ω—É –Ω–∞ —â—ñ—Ç–æ–∫;\n'
                                   '    -  –µ–∫—Å–ø—Ä–µ—Å —É–∫–ª–∞–¥–∞–Ω–Ω—è;\n'
                                   '    -  –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–ª–∞—Å–∏—á–Ω–∏—Ö –ø–ª–æ–π–æ–∫, —Å—Ç–∞–π–ª–µ—Ä—ñ–≤ (—É—Ç—é–∂–∫—ñ–≤), –≥–æ—Ñ—Ä–µ;\n'
                                   '    -  —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —à–∏–∫–∞—Ä–Ω–æ–≥–æ –æ–±‚Äô—î–º—É –±–µ–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–æ—Ñ—Ä–µ \n'
                                   '‚ñ™Ô∏è —á–æ–ª–æ–≤—ñ—á–∞ —Ç–∞ –∂—ñ–Ω–æ—á–∞ —Å—Ç—Ä–∏–∂–∫–∏:\n'
                                   '    -  –∫–ª–∞—Å–∏—á–Ω—ñ —Ñ–æ—Ä–º–∏ —Å—Ç—Ä–∏–∂–æ–∫;\n'
                                   '    -  —Ä–æ–∑–±—ñ—Ä –¥—ñ–ª–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è –Ω–∞ –∑–æ–Ω–∏;\n'
                                   '    -  –ø—ñ–¥–±—ñ—Ä —Å—Ç—Ä–∏–∂–∫–∏ –¥–æ —Ñ–æ—Ä–º–∏ –æ–±–ª–∏—á—á—è, –≥–æ–ª–æ–≤–∏  —Ç–∞ —Ñ—ñ–≥—É—Ä–∏.\n'
                                   '‚ñ™Ô∏è —Ñ–∞—Ä–±—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–ª–æ—Ä—É–≤–∞–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è:\n'
                                   '    -  –±–∞–∑–æ–≤—ñ –æ—Å–Ω–æ–≤–∏ –∫–æ–ª—å–æ—Ä–æ–∑–Ω–∞–≤—Å—Ç–≤–∞;\n'
                                   '    -  –∞—Ç–µ–º–Ω–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è —Ç–∞ —Ñ–∞—Ä–±—É–≤–∞–Ω–Ω—è —Ç–æ–Ω —É —Ç–æ–Ω —ñ–∑ –∑–º—ñ–Ω–æ—é –≤—ñ–¥—Ç—ñ–Ω–∫—ñ–≤;\n'
                                   '    -  –∫–æ—Ä–µ–∫—Ü—ñ—è —Ç–∞ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤;\n'
                                   '    -  –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è ¬´TOTAL BLOND¬ª;\n'
                                   '    -  –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è ¬´TOTAL BLOND¬ª;\n'
                                   '    -  —Å–∫–ª–∞–¥–Ω—ñ —Ç–µ—Ö–Ω—ñ–∫–∏ –ø—Ä–∏ –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—ñ;\n'
                                   '    -  –ø—Ä–µ–ø—ñ–≥–º–µ–Ω—Ç–∞—Ü—ñ—è –≤–æ–ª–æ—Å—Å—è;\n'
                                   '    -   ( highlights, balayage, airtouch)\n '
                                   '‚ñ™Ô∏è –∑–∞—á—ñ—Å–∫–∏ —ó—Ö –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:\n'
                                   '    -  –≥–ª–∞–¥–∫—ñ, —á–∏—Å—Ç—ñ –∑–∞—á—ñ—Å–∫–∏, —è–∫ –∑—Ä–æ–±–∏—Ç–∏ ¬´–≥–ª—è–Ω–µ—Ü—å¬ª –Ω–∞ –≤–æ–ª–æ—Å—Å—ñ;\n'
                                   '    -  –º–∞—Ç–æ–≤–∏–π –µ—Ñ–µ–∫—Ç –Ω–∞ –≤–æ–ª–æ—Å—Å—ñ, —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–µ–∫—Å—Ç—É—Ä—É;\n'
                                   '    -  –ø—Ä–∞–≤–∏–ª—å–Ω–µ –ø—ñ–¥–≥–æ—Ç—É–≤–∞–Ω–Ω—è –≤–æ–ª–æ—Å—Å—è –¥–æ –∑–∞—á—ñ—Å–∫–∏;\n'
                                   '    -  —Å—Ç–∞–π–ª—ñ–Ω–≥–∏, —Ç–∞ —è–∫ –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â—ñ —Ç–∞ –Ω–∞–π–∑—Ä—É—á–Ω—ñ—à—ñ —É —Ä–æ–±–æ—Ç—ñ;\n'
                                   '    -  —Ç–µ—Ö–Ω—ñ–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è (–¥–∂–≥—É—Ç—ñ–≤, —Å—Ç—Ä—ñ—á–æ–∫, –≤–∞–ª–∏–∫—ñ–≤, —Ö–≤–æ—Å—Ç—ñ–≤, –ø—É—á–∫—ñ–≤, –ª–æ–∫–æ–Ω—ñ–≤ —Ç–∞ —ñ–Ω. –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑–∞—á—ñ—Å–∫–∏);\n'
                                   '    -  –∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –¥–µ–∫–æ—Ä—É —Ç–∞ —Ñ–∞—Ç–∏;\n'
                                   '    -  —Ö–≤–∏–ª—ñ, –∑–∞—á—ñ—Å–∫–∞ —É —Å—Ç–∏–ª—ñ ¬´–ú–æ–Ω—Ä–æ¬ª;\n'
                                   '    -  –≤—Å–µ –ø—Ä–æ –ª–æ–∫–æ–Ω–∏, –æ–±‚Äò—î–º —Ç–∞ —Ñ–æ—Ä–º—É;\n'
                                   '    -  –≤–∏–¥–∏  –Ω–∞—á–æ—Å—É —Ç–∞ –≥—Ä–∞–º–æ—Ç–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è;\n'
                                   '    -  —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ç–∞ —è–∫ —ó—Ö –æ–±–∏—Ä–∞—Ç–∏.\n',
                                 reply_markup=markup)



@dp.callback_query_handler(menu_callback.filter(item_name="adress"))
async def adress_info(call: CallbackQuery):
    markup = await adress_keyboard()
    await call.message.answer(text='–ø–ª–æ—â–∞ –ì–µ—Ä–æ—ó–≤ –Ñ–≤—Ä–æ–º–∞–π–¥–∞–Ω—É 6, –¥—Ä—É–≥–∏–π –ø–æ–≤–µ—Ä—Ö (–Ω–∞–¥ –º–∞–≥–∞–∑–∏–Ω–æ–º 23/7) \n',
                              reply_markup=markup)


@dp.callback_query_handler(menu_callback.filter(item_name="get"))
async def get_info(call: CallbackQuery):
    markup = await get_keyboard()
    await call.message.answer(text='–Ø–∫—â–æ —Ç–∏ –ø—Ä–∏—î–¥–Ω–∞—î—à—Å—è –¥–æ –Ω–∞—à–æ–≥–æ –∫—É—Ä—Å—É, —Ç–æ –æ—Ç—Ä–∏–º–∞—î—à: \n'
                                   '    -  –ù–∞–π–Ω–æ–≤—ñ—à—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é, —è–∫–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å —Ä–æ–∑–≤–∏–≤–∞—Ç–∏—Å—è '
                                   '—É –ø–µ—Ä—É–∫–∞—Ä—Å—å–∫—ñ–π —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó –Ω–∞–±–∞–≥–∞—Ç–æ —à–≤–∏–¥—à–µ; \n'
                                   '    -  –í–µ–ª–∏—á–µ–∑–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –≥–æ–¥–∏–Ω, '
                                   '–∞–¥–∂–µ —Å–∞–º–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ –ø–æ–±—É–¥–æ–≤–∞–Ω–µ –Ω–∞—à–µ –Ω–∞–≤—á–∞–Ω–Ω—è;\n'
                                   '    -  –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –∫—Ä—É—Ç–∏—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª–∞—Ö —Ç–∞ –±—Ä–µ–Ω–¥–æ–≤–∏—Ö, –ª—é–∫—Å–æ–≤–∏—Ö –∑–∞—Å–æ–±–∞—Ö;\n'
                                   '    -  –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞–Ω—å —è–∫ –Ω–∞ —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏—Ö –º–∞–Ω–µ–∫–µ–Ω–∞—Ö, —Ç–∞–∫ —ñ –Ω–∞ –∂–∏–≤–∏—Ö –º–æ–¥–µ–ª—è—Ö;\n'
                                   '    -  –û—Å–≤–æ—ó—à –µ—Å—Ç–µ—Ç–∏–∫—É —Ç–∞ –æ—Å–Ω–æ–≤–∏ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –∫–æ–ª–µ–∫—Ç–∏–≤–æ–º —Ç–∞ –∫–ª—ñ—î–Ω—Ç–∞–º–∏.\n',
                              reply_markup=markup)


@dp.callback_query_handler(menu_callback.filter(item_name="reason"))
async def reason_info(call: CallbackQuery):
    markup = await reason_keyboard()
    await call.message.answer(text='–ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ –∫—Ä—É—Ç–∏–π —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–∏–π –∫—É—Ä—Å '
                                   '¬´–ü–µ—Ä—É–∫–∞—Ä-–º–æ–¥–µ–ª—å—î—Ä¬ª —Å–∞–º–µ –¥–ª—è —Ç–µ–±–µ, —è–∫—â–æ —Ç–∏:\n'
                                   '    -  –•–æ—á–µ—à —Ä–æ–∑–≤–∏–≤–∞—Ç–∏—Å—è —É —Å—Ñ–µ—Ä—ñ –ø–µ—Ä—É–∫–∞—Ä—Å—å–∫–æ–≥–æ –º–∏—Å—Ç–µ—Ü—Ç–≤–∞, '
                                   '—Ö–æ—á–µ—à –¥—ñ–∑–Ω–∞–≤–∞—Ç–∏—Å—è –ø—Ä–æ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏ —Ç–∞ –Ω–æ–≤–∏–Ω–∫–∏ –ø–µ—Ä—É–∫–∞—Ä—Å—å–∫–æ–≥–æ –º–∏—Å—Ç–µ—Ü—Ç–≤–∞, '
                                   '–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ—Ä—Ü—ñ—é –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, '
                                   '–º–æ—Ç–∏–≤–∞—Ü—ñ—ó —ñ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —â–æ–¥–Ω—è —É –∫–æ–º–ø–∞–Ω—ñ—ó –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–≤ —Å–≤–æ—î—ó —Å–ø—Ä–∞–≤–∏; \n'
                                   '    -  –ü—Ä–∞–≥–Ω–µ—à –¥–æ —Å–∞–º–æ—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —Ö–æ—á–µ—à —Å—Ç–∞—Ç–∏ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª–æ–º —Å–≤–æ—î—ó —Å–ø—Ä–∞–≤–∏;\n'
                                   '    -  –¶—ñ–Ω—É—î—à –∑–Ω–∞–Ω–Ω—è —Ç–∞ —Å–≤—ñ–π —á–∞—Å, –∞–¥–∂–µ –Ω–∞—à –∫—É—Ä—Å '
                                   '–¥–æ–ø–æ–º–æ–∂–µ —Ç–æ–±—ñ –¥–æ—Å—è–≥—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∑–∞ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ø–µ—Ä—ñ–æ–¥. '
                                   '',
                              reply_markup=markup)



@dp.message_handler(menu_callback.filter(item_name="pay"))
async def pay_info(call: CallbackQuery):
    markup = await pay_keyboard()

    await call.message.answer(text='–î–ª—è –∑–∞–ø–∏—Å—É –Ω–∞–ø–∏—à—ñ—Ç—å –í–∞—à–µ –ø—Ä—ñ–∑–≤–∏—â–µ, —ñ–º‚Äò—è —Ç–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É \n'
                                   '–ê —Ç–∞–∫–æ–∂ –≤–Ω–µ—Å—ñ—Ç—å –∑–∞–≤–¥–∞—Ç–æ–∫ —É —Ä–æ–∑–º—ñ—Ä—ñ 1000 –≥—Ä–Ω –Ω–∞ –∫–∞—Ä—Ç—É\n'
                                   ' 4149 4393 1698 9312 –û–†–õ–û–í–°–¨–ö–ê –Ü.–û \n'
                                   '–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å —Å–∫—Ä—ñ–Ω—à–æ—Ç –∞–±–æ —Ñ–æ—Ç–æ —á–µ–∫—É –ø—Ä–æ –æ–ø–ª–∞—Ç—É.\n'
                                   '–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –±—Ä–æ–Ω—é—î–º–æ –í–∞–º –º—ñ—Å—Ü–µ —Ç–∞ –∑–∞–ø–∏—Å—É—î–º–æ –Ω–∞ –∫—É—Ä—Å.',
                              reply_markup=markup)



# @dp.message_handler(user_id=admin_id, commands=['check_subs'])
# async def check_referrals(message: types.Message):
#     referrals = db.count_users()
#     text = f"–í–∞—à—ñ —É—á–∞—Å—Ç–Ω–∏–∫–∏:\n{referrals}"
#
#     await message.answer(text)

















